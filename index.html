<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Página Especial</title>
<style>
  *{box-sizing:border-box;margin:0;padding:0}
  body{font-family:Arial,Helvetica,sans-serif;background:#f0f0f0;text-align:center;padding:20px}

  /* player */
  .musica{margin-bottom:20px}

  /* layout do carrossel */
  .fotos{display:flex;justify-content:center;align-items:center;gap:8px;margin-bottom:10px}
  .foto{border-radius:10px;flex-shrink:0;background:#ddd;overflow:hidden}
  .foto img{width:100%;height:100%;object-fit:contain}

  /* central e laterais */
  .foto.centro{width:48%;aspect-ratio:3/2;box-shadow:0 0 10px rgba(0,0,0,.35)}
  .foto.lateral{width:26%;aspect-ratio:3/2;opacity:.6;filter:blur(1px)}

  /* botões */
  .botoes{margin-bottom:30px}
  .botoes button{padding:8px 16px;margin:0 8px;background:#333;color:#fff;border:none;border-radius:5px;cursor:pointer}

  /* textos */
  .texto{font-size:16px;color:#333;padding:10px 0 30px;max-width:800px;margin:0 auto}

  /* contador */
  #contador{font-size:20px;font-weight:bold;margin-bottom:30px}

  /* responsivo */
  @media(max-width:450px){
    .foto.lateral{display:none}
    .foto.centro{width:90%}
  }
</style>
</head>
<body>

<!-- música ----------------------------------------------------------------->
<div class="musica">
  <audio controls>
    <source src="musica.mp3" type="audio/mpeg">
    Seu navegador não suporta áudio.
  </audio>
</div>

<!-- contador --------------------------------------------------------------->
<div id="contador">Carregando…</div>

<!-- container onde JS insere carrosséis ------------------------------------>
<div id="carrosseis"></div>

<script>
/* ---------- listas de imagens + textos ----------------------------------*/
const carrosseis = {
  1:{imgs:['foto1.jpg','foto2.jpg','foto3.jpg'],
      txt:`Antigamente o pessoal entregava cartas para mensagens especiais...`},
  2:{imgs:['foto2_1.jpg','foto2_2.jpg','foto2_3.jpg'],
      txt:`Hoje você está completando mais um ano de vida, meu amor...`},
  3:{imgs:['foto3_1.jpg','foto3_2.jpg','foto3_3.jpg'],
      txt:`Você é luz na vida de todos à sua volta!`},
  4:{imgs:['foto4_1.jpg','foto4_2.jpg','foto4_3.jpg'],
      txt:`Com cada sorriso, você transforma o nosso dia!`},
  5:{imgs:['foto5_1.jpg','foto5_2.jpg','foto5_3.jpg'],
      txt:`Feliz aniversário! Que essa data se repita por muitos e muitos anos!`}
};

/* ---------- estado de cada carrossel ------------------------------------*/
const pos   = {};            // índice atual da foto
const refs  = {};            // guarda referências aos <img> para troca rápida

/* ---------- cria e renderiza --------------------------------------------*/
function criaCarrossel(id,data){
  pos[id]=0;
  // estrutura HTML
  const div=document.createElement('div');
  div.innerHTML=`
    <div class="fotos">
      <div class="foto lateral"><img id="p${id}"></div>
      <div class="foto centro" ><img id="c${id}"></div>
      <div class="foto lateral"><img id="n${id}"></div>
    </div>
    <div class="botoes">
      <button onclick="gira(${id},-1)">◀ Anterior</button>
      <button onclick="gira(${id}, 1)">Próxima ▶</button>
    </div>
    <div class="texto">${data.txt}</div>`;
  document.getElementById('carrosseis').appendChild(div);

  // guarda referências
  refs[id]={
    prev:document.getElementById('p'+id),
    curr:document.getElementById('c'+id),
    next:document.getElementById('n'+id),
    list:data.imgs
  };
  render(id);
}

function render(id){
  const {prev,curr,next,list}=refs[id];
  const i=pos[id], n=list.length;
  prev.src = list[(i-1+n)%n];
  curr.src = list[i];
  next.src = list[(i+1)%n];
}

function gira(id,step){
  const n=refs[id].list.length;
  pos[id]=(pos[id]+step+n)%n;
  render(id);
}

/* ---------- monta todos --------------------------------------------------*/
for(const id in carrosseis) criaCarrossel(id,carrosseis[id]);

/* ---------- contador desde dataInicial ----------------------------------*/
const dataInicial=new Date('1983-06-20T00:00:00');
function atualizaCont(){
  const agora=new Date();
  let [anos,meses,dias,horas,min,seg]=[
    agora.getFullYear()-dataInicial.getFullYear(),
    agora.getMonth()-dataInicial.getMonth(),
    agora.getDate() -dataInicial.getDate(),
    agora.getHours()-dataInicial.getHours(),
    agora.getMinutes()-dataInicial.getMinutes(),
    agora.getSeconds()-dataInicial.getSeconds()
  ];
  if(seg<0){seg+=60;min--;}
  if(min<0){min+=60;horas--;}
  if(horas<0){horas+=24;dias--;}
  if(dias<0){
    meses--;
    dias+=new Date(agora.getFullYear(),agora.getMonth(),0).getDate();
  }
  if(meses<0){meses+=12;anos--;}
  document.getElementById('contador').textContent=
    `${anos} anos, ${meses} meses, ${dias} dias, ${horas}h ${min}min ${seg}s`;
}
setInterval(atualizaCont,1000);atualizaCont();
</script>
</body>
</html>
